!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.fs=e()}}(function(){return function e(f,n,o){function d(t,l){if(!n[t]){if(!f[t]){var u="function"==typeof require&&require;if(!l&&u)return u(t,!0);if(i)return i(t,!0);throw new Error("Cannot find module '"+t+"'")}var p=n[t]={exports:{}};f[t][0].call(p.exports,function(e){var n=f[t][1][e];return d(n?n:e)},p,p.exports,e,f,n,o)}return n[t].exports}for(var i="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(e,f,n){(function(e){function f(e,f){for(var n=0,o=e.length-1;o>=0;o--){var d=e[o];"."===d?e.splice(o,1):".."===d?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(f)for(;n--;n)e.unshift("..");return e}function o(e,f){if(e.filter)return e.filter(f);for(var n=[],o=0;o<e.length;o++)f(e[o],o,e)&&n.push(e[o]);return n}var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return d.exec(e).slice(1)};n.resolve=function(){for(var n="",d=!1,i=arguments.length-1;i>=-1&&!d;i--){var t=i>=0?arguments[i]:e.cwd();if("string"!=typeof t)throw new TypeError("Arguments to path.resolve must be strings");t&&(n=t+"/"+n,d="/"===t.charAt(0))}return n=f(o(n.split("/"),function(e){return!!e}),!d).join("/"),(d?"/":"")+n||"."},n.normalize=function(e){var d=n.isAbsolute(e),i="/"===t(e,-1);return e=f(o(e.split("/"),function(e){return!!e}),!d).join("/"),e||d||(e="."),e&&i&&(e+="/"),(d?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,f){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,f){function o(e){for(var f=0;f<e.length&&""===e[f];f++);for(var n=e.length-1;n>=0&&""===e[n];n--);return f>n?[]:e.slice(f,n-f+1)}e=n.resolve(e).substr(1),f=n.resolve(f).substr(1);for(var d=o(e.split("/")),i=o(f.split("/")),t=Math.min(d.length,i.length),l=t,u=0;t>u;u++)if(d[u]!==i[u]){l=u;break}for(var p=[],u=l;u<d.length;u++)p.push("..");return p=p.concat(i.slice(l)),p.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var f=i(e),n=f[0],o=f[1];return n||o?(o&&(o=o.substr(0,o.length-1)),n+o):"."},n.basename=function(e,f){var n=i(e)[2];return f&&n.substr(-1*f.length)===f&&(n=n.substr(0,n.length-f.length)),n},n.extname=function(e){return i(e)[3]};var t="b"==="ab".substr(-1)?function(e,f,n){return e.substr(f,n)}:function(e,f,n){return 0>f&&(f=e.length+f),e.substr(f,n)}}).call(this,e("g5I+bs"))},{"g5I+bs":2}],2:[function(e,f,n){function o(){}var d=f.exports={};d.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,f="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(f){var n=[];return window.addEventListener("message",function(e){var f=e.source;if((f===window||null===f)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var o=n.shift();o()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=o,d.addListener=o,d.once=o,d.off=o,d.removeListener=o,d.removeAllListeners=o,d.emit=o,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],3:[function(e,f,n){"use strict";var o=e("./utils"),d=e("path"),i=e("./fileSystem"),t=o.wrapSuccess,l=o.wrapFail;n.getFsInstance=i.getInstance,n.appendFile=function(e,f,n){i.writeFile(e,f,n,!0)},n.writeFile=function(e,f,n){i.writeFile(e,f,n,!1)},n.readFile=function(e,f,n){"function"==typeof f&&(n=f,f={encoding:"utf8"});var o=t(n),d=l(n);i.getFile(e,function(e,n){n.file(function(e){var n=new FileReader;n.onloadend=function(e){o(e.target.result)},n.onerror=function(e){d(e)},"utf8"===f.encoding?n.readAsText(e):n.readAsDataURL(e)},d)})},n.unlink=function(e,f){var n=t(f),o=l(f);i.getFile(e,function(e,f){e?o(e):f.remove(n,o)})},n.readdir=function(e,f){var n=t(f),o=l(f);i.getDirectory(e,function(e,f){if(e)o(e);else{var d=f.createReader();d.readEntries(n,o)}})},n.mkdir=function(e,f){var n=d.basename(e),t=d.dirname(e),l=o.wrapSuccess(f),u=o.wrapFail(f),p={create:!0,exclusive:!0};"."===t?i.getDirectory(n,p,f):i.getDirectory(t,function(e,o){e?f(e,null):o.getDirectory(n,p,l,u)})},n.rmdir=function(e,f){var n=t(f),o=l(f);this.readdir(e,function(f,d){f?o(f):d&&d.length>0?o("ENOTEMPTY: Directory must be empty"):i.getDirectory(e,function(e,f){e?o(e):f.remove(n,o)})})},n.exists=function(e,f){var n=t(f),o=l(f);i.getFile(e,{create:!1},function(e){e&&1===e.code?n(!1):e?o(e):n(!0)})},n.stat=function(e,f){var n=t(f),d=l(f),u=i.getFile;o.isDirectory(e)&&(u=i.getDirectory),u(e,function(e,f){e?d(e):f.getMetadata(n,d)})},n.init=function(e,f){i.init(e,function(e){e?f(e,null):i.getInstance(function(e){f(e,null)})})}},{"./fileSystem":4,"./utils":5,path:1}],4:[function(e,f,n){"use strict";function o(e,f,n){window.navigator.webkitRequestFileSystem?window.navigator.webkitRequestFileSystem(e,f,n):window.requestFileSystem?window.requestFileSystem(window.LocalFileSystem.PERSISTENT,e,f,n):window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.PERSISTENT,e,f,n):n("NO_SUPPORT")}function d(e,f){function n(e){f(null,e)}function o(e){f(e,null)}e=e||l,navigator.webkitPersistentStorage&&navigator.webkitPersistentStorage.requestQuota?navigator.webkitPersistentStorage.requestQuota(e,n,o):window.webkitStorageInfo&&window.webkitStorageInfo.requestQuota?window.webkitStorageInfo.requestQuota(window.PERSISTENT,e,n,o):window.requestFileSystem?(i.isPhoneGap()===!0&&(e=0),n(e)):o("NO_SUPPORT")}var i=e("./utils"),t=e("path"),l=10485760,u=null;n.getInstance=function(e){u?e(null,u):p(null,e)};var p=n.init=function(e,f){d(e,function(e,n){return e?f(e,null):void o(n,function(e){u=e,f(null,n)},function(e){f(e,null)})})};n.writeFile=function(e,f,n,o){var d=i.wrapFail(n),t=i.wrapSuccess(n);this.getFile(e,{create:!0,exclusive:!1},function(e,l){return e?n(e,null):void l.createWriter(function(e){e.onwrite=function(){t(l.toURL())},e.onerror=function(e){d(e.target.error)},o===!0&&e.seek(e.length),i.isMobile()?e.write(f):e.write(new Blob([f]))},d)})},n.getDirectory=function(e,f,n){n||(n=f,f={create:!1});var o=i.wrapSuccess(n),d=i.wrapFail(n);u.root.getDirectory(e,f,o,d)},n.getFile=function(e,f,n){function o(e){e.getFile(d,f,p,s)}n||(n=f,f={create:!1});var d=t.basename(e),l=t.dirname(e),p=i.wrapSuccess(n),s=i.wrapFail(n);"."===l?o(u.root):this.getDirectory(l,function(e,f){e?n(e,null):o(f)})}},{"./utils":5,path:1}],5:[function(e,f,n){"use strict";n.isMobile=function(){var e=window.navigator.userAgent;return null!==e.match(/Android|iPad|iPhone|iPod|Windows Phone/)},n.isPhoneGap=function(){var e=window.location.protocol;return this.isMobile()&&-1!==e.indexOf("file")},n.supportsFileSystem=function(){return this.isPhoneGap()===!0?!0:window.navigator.userAgent.match(/Chrome|Opera/)},n.wrapSuccess=function(e){return function(){var f=[null].concat(Array.prototype.slice.call(arguments));e.apply(e,f)}},n.wrapFail=function(e){return function(){var f=Array.prototype.slice.call(arguments),n=f[0];e.apply(e,[n,null])}},n.isDirectory=function(e){return e.lastIndexOf("/")===e.length-1}},{}]},{},[3])(3)});